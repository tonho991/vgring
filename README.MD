<p align="center">
   <img src="/docs/vgring_logo.png" width="200" height="200">
</p>

# üîî VGRING - Campainha Inteligente com ESP8266

VGRING √© um projeto de campainha inteligente baseado em ESP8266 com painel de configura√ß√£o via Wi-Fi, suporte a OTA (atualiza√ß√£o remota) e integra√ß√£o com um servidor web seguro.


<img src="/docs/esp8266_project.jpg" width="400" height="250">

## üöÄ Funcionalidades

- Configura√ß√£o de rede via Access Point
- Atualiza√ß√£o de firmware OTA via URL segura
- LEDs de status (vermelho e verde)
- Bot√£o de campainha e bot√£o de reset
- Armazenamento de dados com LittleFS


---

## ‚ö° Esquema de Pinos (NodeMCU ESP8266)

| Fun√ß√£o           | Pino NodeMCU | GPIO Real | Observa√ß√£o                     |
|------------------|--------------|-----------|--------------------------------|
| LED Vermelho     | D6           | GPIO12    | Indica erro ou status negativo |
| LED Verde        | D7           | GPIO13    | Indica sucesso ou ok           |
| Bot√£o Ring       | D5           | GPIO14    | Quando pressionado, envia toque |
| Bot√£o Reset      | D1           | GPIO5     | Segurar por 8s para resetar     |

- Todos os pinos de bot√£o devem estar conectados ao **GND** no acionamento (configurados com `INPUT_PULLUP`)
- LEDs s√£o ativos em n√≠vel **HIGH** (acendem com `digitalWrite(pin, HIGH)`)

## Como usar

### 1. Pr√©-requisitos

- NodeMCU ESP8266 (ESP-12E)
- VS Code + PlatformIO
- Fonte de alimenta√ß√£o 5V
- Biblioteca instaladas via `platformio.ini`

### 2. Compila√ß√£o e Upload

Conecte o ESP8266 ao computador e execute:

```sh
pio run --target upload
```

### 3. Upload do Sistema de Arquivos (LittleFS)

Para enviar os arquivos da pasta `data/` (ex: index.html):

```sh
pio run --target uploadfs
```

### 4. Configura√ß√£o Inicial

1. Ao ligar o dispositivo pela primeira vez, ele cria uma rede Wi-Fi chamada **VGRing Connect**.
2. Conecte-se a essa rede e acesse o endere√ßo IP exibido no monitor serial.
3. Siga as instru√ß√µes da interface web para configurar o Wi-Fi.
4. Ap√≥s a configura√ß√£o, o dispositivo ir√° conectar √† rede Wi-Fi selecionada.

### 5. Testes

Para rodar testes unit√°rios (se houver):

```sh
pio test
```

## üåê API dispon√≠vel

| M√©todo | Endpoint           | Descri√ß√£o                            |
|--------|--------------------|---------------------------------------|
| GET    | `/api/scan_wifi`   | Lista redes Wi-Fi dispon√≠veis         |
| POST   | `/api/connect`     | Envia SSID e senha para conectar      |
| POST   | `/api/sign`        | Salva token do FCM para envio de notifica√ß√µes           |
| GET    | `/api/get_config`  | Retorna SSID, token e vers√£o firmware |
| POST   | `/api/update_firmware`      | Inicia atualiza√ß√£o OTA                |

---
